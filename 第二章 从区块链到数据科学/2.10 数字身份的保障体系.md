# 2.10 数字身份的保障体系

**直方大，不习无不利。——《易·坤》**

任何价值体系，价值主体（Owner）的确认是整个系统的基础。比特币利用公钥与交易的关联，建立了一个内敛自证的价值主体，保护这个主体，是依赖于对私钥的保护能力。

任何利用公私钥建立数字身份体系，是区块链应用或去中心应用（DAPP）的必备条件。这就意味着一定要有一个可信的端来支撑。现有的DAPP多是在B/S框架下实现的，也就是利用浏览器做为主要的交互客户端，利用区块链钱包插件来管理公私钥，私钥多使用助记码来记忆。

这样的使用方式，对用户并不友好，国际上很多公司为解决这种问题提出了各式解决方案，有软件方式的，也有硬件方式的。

我和团队一同打造了“密照”-Crypto-Passport这个使用模型。简单的说，就是通过密基生成的公私钥利用白盒密基，封装在一个文件里，利用口令加密这个文件，这样公私钥就只能依赖口令才能恢复。

在日常运行环境中，依靠设备安全保护码（PIN）来恢复本地文件，这样可以保证即使是设备被盗或者非法访问了存储系统，也无法获取公私钥。同时，白盒密基和设备锁定，即便是获取了文件，迁移设备后，依靠原来的安全保护码也无法获取公私钥。

密照有两重特性，一个是跨设备的迁移和恢复能力也是基于用户安全持有公私钥的能力（User based Security），根据安全级别的需要，可以利用口令实现，也可以双重验证，甚至联合验证。工作原理，就是将恢复口令变成一部分存储在用户大脑中，一部分存储在一个中心节点，只有同时拿到两个，才能合成一个有效的口令恢复“密照”文件。

另一个特性是设备依赖的实时运算安全保障能力（Runtime Security）。

通过“密照”用户可以建立一个更加易用的区块链钱包。同时，也可以将公私钥这种身份确认的方法广泛应用于其他应用领域，如强鉴权服务（Strong Authorization）、端到端通讯、端到端存储等。

为让基于公私钥的应用体系具备更强的可用性和安全性。对于安全更加敏感的应用领域，如军事、卫星通讯、工业互联网等，可结合我设计的“微链”技术，用嵌套签名的方法不断更换公私钥对，让破解者无法在有限的时间窗内破解密钥，新的公钥的合法性利用历史私钥联合签名确认，进一步加大了破解的难度，让破解完全在算力上不可行。

同时，用户可以合法使用一系列公私钥做为一个应用系统的身份，并能证明这些身份的合法关联性。某种意义上，是对区块链公开透明特性上如何保护隐私提供了新的思路和方法，进一步完善了基于公私钥的数字身份体系。

客户端的TSB（可信安全基）是应用合法使用身份的关键。对于大多数应用来说，只要私钥不离开安全基，相关的签名、验签、加密、解密这些核心的能力是很难被恶意操控的。

如果安全基针对网络的使用规则建立若干的防护能力，则更能提高TSB的安全能力。

这种情况下，安全基是安全的基础，作恶者利用在客户端安全基注入的恶意代码可以彻底接管用户的权限，这也是整个DAPP应用体系在安全上必须解决的新问题。

全局的，基于操作系统或授信硬件的安全基产品可能是未来的大趋势，这种架构对操作系统和实时运行环境提出了新的要求，也是新的产业机会。

如何基于共识机制建立数字身份管理系统呢？

生物的人和基于算法的硅基系统，是两个世界。简单的观点是把两个世界的ID关联起来，建立一个可信的证明，但生物的人的ID是什么呢？我们说是身份证或社保卡。

身份证仅仅是公安机关信息系统中，处理生物人和业务系统关联的方法。在各个国家中，我们设立的很多证照，都是为了对接不同的业务系统。对接不同系统是可以用统一身份ID来实现的，但需要建立一个基准，并让各个系统相信这个基准系统，在中国这个基准系统始终没有建立起来。

公私钥的方法，给建立这个基准提供了一种新的思路，就是用公钥建立对接能力。

但公私钥需要寄生在某个设备中，如果仅仅依赖单一设备，必然带来巨大的风险与隐患，这让我们想到了共识机制。

一个人可以持有多个设备来管理身份，当一个设备出现故障或被恶意使用时，其他设备可以投票将这个设备踢出，当增加设备时可利用投票机制来确认这个设备的有效性。

至于具体的共识规则，可利用多重认证、拜占庭、PoS等方法，这个领域可以持续的探索出可行的方案。

这样就可以围绕生物人，建立一个设备群，利用将公私钥控制在这个设备群中，利用共识机制维护生物人和数据世界的可信关联。

设备群和公钥的控制关系可记录在一个公链或可靠的许可链里面，供设备和其他系统校验。

这个系统可以称之为“身份设备链”。

